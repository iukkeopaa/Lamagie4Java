## 作者介绍

**编程界的小學生，高级架构师。**

曾先后任职于北京百度移信、跟谁学。参与过百万/千万级高并发 C 端系统的设计与研发以及基础架构工作，主导了 RocketMQ 的延迟消息使其支持自定义时长的延迟级别、Eureka 的无损发布，以及 Sentinel 限流支持针对不同接口调用做不同限制等二开工作。

英雄不问出处，授人以鱼不如授人以渔。

## 小册介绍

![掘金小册04 紫貂 11画板_小册自述 1624x623.jpg](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fd4c0ecfbe704df6b05b3edbc76a5389~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.image#?w=1625&h=624&s=231804&e=jpg&b=ffffff)

在互联网分布式系统时代下，我们经常会遇到一些分布式相关的问题：分布式锁、分布式事务、分布式 ID 等诸如此类的问题。比如，你是否遇到过以下令人头疼的场景：

* 电商平台搞促销，并发流量很大，结果库存超卖了。
* 用户拉新，搞了个注册用户进行抽奖的系统，奖品就一个，结果多个人同时都抽到了。
* 公司没有分布式调度系统，但是要执行定时任务，部署集群后，结果集群内的每台机器都执行了这个定时任务，重复执行了。
* ……

这些问题在当今互联网时代很常见了，但是我们怎么去解决呢？有的从业人员可能知道用分布式锁去解决，那么用哪一种分布式锁呢？性能和安全方面是怎样的？……一系列黑盒问题扑面而来。

**本小册会`从 0 到 1 开始剖析分布式锁`，但是并不会一上来就进行源码剖析，而是会采取“如何设计一把分布式锁？”这种`推导式的教学方式`，带着你先学习其中的设计思想**。比如，要设计一个分布式读写锁，那本小册会带着你分析采取哪种数据结构来存储、读写互斥怎么做、读读共享怎么做等需求来一步步地推导出完整的设计思想，最后再带着我们这套设计思想去深入到开源框架的源码中去验证是不是这么实现的。

**设计思想是源码的需求。需求不懂，怎么开发？`擒贼先擒王，王（需求）搞定了，下面的小兵（源码）很容易攻破`。**

## 你会学到什么？

本小册主要有三大核心模块：**基础篇、核心篇、进阶篇**。另外，还会有个**补充篇**模块作为扩展。

* 我们可以从`基础篇`学习到什么是锁、什么又是分布式锁以及实现分布式锁的核心原理。
* 掌握了分布式锁的基础后，我们来到`核心篇`，核心篇我们将学到 Redis 和 ZooKeeper 实现分布式锁的全部设计思想以及核心源码，当然也会剖析面试常问的 WatchDog 实现原理等。
* 最后在`进阶篇`会手把手带着你去分析如何设计一些高级锁，比如分布式公平锁/非公平锁、分布式读写锁、红锁等核心设计思想以及源码。

整个知识体系你可以参考下面的`知识导图`👇：

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/97a8fd95252744439094f49b5058a7f6~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.image#?w=889&h=784&s=109310&e=png&b=fafafa)

因此，通过本小册你会`有以下收获`：

* 分布式锁到底是什么以及每种实现方式的利弊；
* Redis 实现分布式锁的核心设计思想以及源码；
* ZooKeeper 实现分布式锁的核心设计思想以及源码；
* 分布式公平锁/非公平锁、分布式读写锁、红锁的设计思想以及源码；
* 对分布式锁不再陌生，你也能手写一把高级分布式锁。

## 适宜人群

* 有互联网项目经验，知道什么是分布式锁但不知道其实现原理的人员；
* 用过分布式锁，但是想全面系统性地学习分布式锁的设计核心原理以及核心实现源码的从业人员；
* 想手写一些高级锁（比如：分布式公平锁/非公平锁、分布式读写锁、红锁，再比如想实现一把分布式的 CountDownLatch、Semaphore），但是无从下手的开发人员。

## 购买须知

1. 本小册为图文形式内容服务，共计 17 节；
2. 小册于 2021 年 11 月 17 日上线，全部文章已更新完成；
3. 购买用户可享有小册永久的阅读权限；
4. 购买用户可进入小册微信群，与作者互动；
5. 掘金小册为虚拟内容服务，一经购买成功概不退款；
6. 掘金小册版权归北京北比信息技术有限公司所有，任何机构、媒体、网站或个人未经本网协议授权不得转载、链接、转贴或以其他方式复制发布/发表，违者将依法追究责任；
7. 在掘金小册阅读过程中，如有任何问题，请邮件联系 [xiaoce@xitu.io](mailto:xiaoce@xitu.io "mailto:xiaoce@xitu.io")