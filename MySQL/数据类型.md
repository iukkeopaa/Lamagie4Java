## varchar 与 char 的区别

`VARCHAR` 和 `CHAR` 是数据库中用于存储字符串的数据类型，在不同的数据库系统（如 MySQL、Oracle 等）中都有使用，下面详细介绍它们的区别：

### 1. 存储方式



- CHAR
    - `CHAR` 是固定长度的数据类型。当你定义一个 `CHAR` 类型的字段时，需要指定其长度，例如 `CHAR(10)`。无论实际存储的字符串长度是多少，数据库都会为该字段分配固定长度的存储空间。
    - 若存储的字符串长度小于定义的长度，数据库会在字符串后面用空格进行填充，以达到指定的长度。
    - 例如，定义一个 `CHAR(10)` 的字段，存储字符串 `'abc'`，实际存储时会在 `'abc'` 后面填充 7 个空格，变成 `'abc '`。
- VARCHAR
    - `VARCHAR` 是可变长度的数据类型。同样需要指定其最大长度，如 `VARCHAR(10)`，但它只占用实际存储字符串所需的空间，再加上额外的 1 到 2 个字节用于记录字符串的长度。
    - 例如，定义一个 `VARCHAR(10)` 的字段，存储字符串 `'abc'`，它只会占用 3 个字节（存储字符串本身）加上 1 个字节（用于记录长度，对于长度小于 256 的字符串通常用 1 个字节记录），总共 4 个字节的存储空间。

### 2. 存储效率



- CHAR
    - 由于是固定长度存储，在处理长度变化不大的字符串时，`CHAR` 的存储效率较高。因为不需要额外的字节来记录字符串的长度，并且在查找和比较时，由于长度固定，操作相对简单快速。
    - 例如，存储身份证号、电话号码等长度固定的字符串，使用 `CHAR` 类型比较合适。
- VARCHAR
    - 对于长度变化较大的字符串，`VARCHAR` 更节省存储空间。因为它只存储实际需要的空间，避免了 `CHAR` 类型因填充空格而造成的空间浪费。
    - 例如，存储文章内容、评论等长度不确定的字符串，使用 `VARCHAR` 类型更为合适。

### 3. 性能表现



- CHAR
    - 在进行数据查询和比较时，`CHAR` 类型的性能通常较好。因为其长度固定，数据库可以更快速地定位和处理数据，不需要额外的操作来解析字符串的长度。
    - 但如果频繁进行更新操作，尤其是更新后的字符串长度与原长度差异较大时，可能会导致存储空间的碎片问题，影响性能。
- VARCHAR
    - 由于 `VARCHAR` 需要额外的字节来记录字符串的长度，在进行查询和比较时，需要先解析长度信息，相对 `CHAR` 会有一些性能开销。
    - 不过，在更新操作方面，`VARCHAR` 更为灵活，因为它只需要调整实际占用的存储空间，不会产生像 `CHAR` 那样的碎片问题。

### 4. 最大长度限制



- CHAR
    - 不同数据库系统对 `CHAR` 类型的最大长度限制有所不同。例如，在 MySQL 中，`CHAR` 的最大长度为 255 个字符。
- VARCHAR
    - `VARCHAR` 的最大长度也因数据库系统而异。在 MySQL 中，`VARCHAR` 的最大长度为 65,535 字节，但实际最大字符数还会受到字符集的影响。



综上所述，在选择使用 `VARCHAR` 还是 `CHAR` 时，需要根据实际存储的字符串特点来决定。如果字符串长度固定或变化不大，优先考虑 `CHAR` 类型；如果字符串长度变化较大，`VARCHAR` 类型是更好的选择。

## blob 和 text 有什么区别

`BLOB`（Binary Large Object，二进制大对象）和 `TEXT` 是数据库中用于存储大量数据的两种不同数据类型，它们存在多方面的区别，以下为你详细介绍：

### 1. 存储内容类型



- BLOB
  - `BLOB` 类型主要用于存储二进制数据，这些数据没有特定的字符编码。例如，图像文件（如 JPEG、PNG）、音频文件（如 MP3）、视频文件、可执行文件、压缩文件等。因为二进制数据可能包含任意字节序列，不遵循特定的文本编码规则，所以 `BLOB` 能很好地保持数据的原始二进制形式。
- TEXT
  - `TEXT` 类型专门用于存储文本数据，这些数据是有字符编码的，比如常见的 UTF - 8、GBK 等。它适用于存储文章内容、评论、日志信息、配置文件内容等文本信息。由于 `TEXT` 存储的是文本，数据库可以对其进行字符级别的操作，如字符搜索、排序等。

### 2. 存储方式



- BLOB
  - 数据库以二进制形式存储 `BLOB` 数据，不进行字符编码转换或解析。它会原样保存输入的二进制字节序列，因此存储的是纯粹的二进制数据，不会因为数据库的字符集设置而改变数据内容。
- TEXT
  - `TEXT` 数据会根据数据库的字符集进行存储和处理。当插入 `TEXT` 数据时，数据库会将数据按照指定的字符集进行编码存储；在读取数据时，会根据相同的字符集进行解码。这意味着 `TEXT` 数据的存储和显示会受到字符集的影响。

### 3. 排序和比较规则



- BLOB
  - 对于 `BLOB` 数据，数据库通常按照二进制值进行排序和比较。这意味着比较的是数据的字节序列，而不考虑其可能代表的实际含义。例如，比较两个图像的 `BLOB` 数据时，是逐字节比较它们的二进制值。
- TEXT
  - `TEXT` 数据的排序和比较是基于字符集和排序规则的。不同的字符集和排序规则会导致不同的比较结果。例如，在某些排序规则下，字母的大小写可能会被忽略，而在其他规则下则会区分大小写。

### 4. 数据操作



- BLOB
  - 对 `BLOB` 数据的操作通常是进行整体的读写，因为它是二进制数据，不适合进行字符级别的操作，如字符串查找、替换等。常见的操作是将整个 `BLOB` 数据读取出来，然后交给应用程序进行处理，例如将图像 `BLOB` 数据显示在界面上。
- TEXT
  - 由于 `TEXT` 存储的是文本数据，数据库支持丰富的文本操作，如使用 `LIKE` 进行模糊查询、使用 `SUBSTRING` 进行字符串截取、使用 `REPLACE` 进行字符串替换等。这些操作可以方便地对文本内容进行处理和分析。

### 5. 存储容量限制



- BLOB
  - 不同数据库系统对 `BLOB` 类型的存储容量限制有所不同。例如，在 MySQL 中，`BLOB` 类型有不同的子类型，如 `TINYBLOB`（最大 255 字节）、`BLOB`（最大 65,535 字节）、`MEDIUMBLOB`（最大 16,777,215 字节）和 `LONGBLOB`（最大 4,294,967,295 字节）。
- TEXT
  - 同样，`TEXT` 类型也有不同的子类型和容量限制。在 MySQL 中，`TEXT` 子类型包括 `TINYTEXT`（最大 255 字节）、`TEXT`（最大 65,535 字节）、`MEDIUMTEXT`（最大 16,777,215 字节）和 `LONGTEXT`（最大 4,294,967,295 字节）。



综上所述，`BLOB` 和 `TEXT` 在存储内容、存储方式、操作和使用场景等方面都有明显的区别，在实际应用中需要根据数据的特点来选择合适的数据类型。

- blob ?于存储?进制数据，? text ?于存储?字符串。

- blob 没有字符集，text 有?个字符集，并且根据字符集的校对规则对值进?排序和?较
## MySQL 中 in 和 exists 的区别？

MySQL 中的 in 语句是把外表和内表作 hash 连接，? exists 语句是对外表作 loop 循环，每次 loop
循环再对内表进?查询。我们可能认为 exists ? in 语句的效率要?，这种说法其实是不准确的，要区分情景：

1. 如果查询的两个表??相当，那么? in 和 exists 差别不?。
2. 如果两个表中?个较?，?个是?表，则?查询表?的? exists，?查询表?的? in。
3. not in 和 not exists：如果查询语句使?了 not in，那么内外表都进?全表扫描，没有?到索
   引；? not extsts 的?查询依然能?到表上的索引。所以?论那个表?，? not exists 都? not
   in 要快。




